2025-11-06 11:18:17 - INFO - Loading PostgreSQL connection...
2025-11-06 11:18:17 - INFO - Connection completed.
2025-11-06 11:18:35 - INFO - Extracting receipt data...
2025-11-06 11:18:51 - INFO - Extracted data: {'merchant_details': {'name': 'SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu', 'address': 'Jl. Griya Loka Raya (Bakso Loncat), Rawa Buntu', 'phone_number': None}, 'transaction_details': {'date': '2025-11-05', 'time': '18:40:00', 'receipt_number': 'GF-043'}, 'line_items': [{'item_name': '#B1G1 Paket Jumbo Sei Sapi x Sei Sapi', 'quantity': 1, 'unit_price': 82680.0, 'total_price': 82680.0}], 'summary': {'subtotal': 82680.0, 'tax_and_fees': 20500.0, 'discount': 43072.0, 'grand_total': 60108.0}}
2025-11-06 11:18:51 - INFO - Inserting receipt data to DB...
2025-11-06 11:18:51 - ERROR - Error occurred when inserting extracted receipt data to DB.
2025-11-06 11:18:51 - ERROR - Traceback (most recent call last):
  File "/home/jumbo-vm/Iris/coding-exercise/receipt-agent/aibon.py", line 78, in insert_data_to_db
    inserted_id = doc_agent.insert_data_to_db(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: DocAgent.insert_data_to_db() got multiple values for argument 'conn'

2025-11-06 11:18:51 - ERROR - Insertion failed: inserted_id is null.
2025-11-06 11:21:52 - INFO - Extracting receipt data...
2025-11-06 11:22:11 - INFO - Extracted data: {'merchant_details': {'name': 'SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu', 'address': 'Jl. Griya Loka Raya (Bakso Loncat), Rawa Buntu', 'phone_number': None}, 'transaction_details': {'date': '2025-11-05', 'time': '18:40:00', 'receipt_number': 'GF-043'}, 'line_items': [{'item_name': '#B1G1 Paket Jumbo Sei Sapi x Sei Sapi, FREE Nasi Putih J (2x), FREE Sambal Luat (2x), 2 FREE Es Teh Celoteh', 'quantity': 1, 'unit_price': 82680.0, 'total_price': 82680.0}], 'summary': {'subtotal': 76818.0, 'tax_and_fees': 26362.0, 'discount': 43072.0, 'grand_total': 60108.0}}
2025-11-06 11:22:11 - INFO - Inserting receipt data to DB...
2025-11-06 11:22:11 - ERROR - Error occurred when inserting data to DB.
2025-11-06 11:22:11 - ERROR - Traceback (most recent call last):
  File "/home/jumbo-vm/Iris/coding-exercise/receipt-agent/doc_extraction.py", line 135, in insert_data_to_db
    cursor.executemany(
TypeError: Cursor.executemany() got an unexpected keyword argument 'params'

2025-11-06 11:22:11 - ERROR - Insertion failed: inserted_id is null.
2025-11-06 11:22:47 - INFO - Extracting receipt data...
2025-11-06 11:23:00 - INFO - Extracted data: {'merchant_details': {'name': 'SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu', 'address': 'Jl. Griya Loka Raya (Bakso Loncat), Rawa Buntu', 'phone_number': None}, 'transaction_details': {'date': '2025-11-05', 'time': '18:40:00', 'receipt_number': 'GF-043'}, 'line_items': [{'item_name': '#B1G1 Paket Jumbo Sei Sapi x Sei Sapi', 'quantity': 1, 'unit_price': 82680.0, 'total_price': 82680.0}], 'summary': {'subtotal': 82680.0, 'tax_and_fees': 20500.0, 'discount': 43072.0, 'grand_total': 60108.0}}
2025-11-06 11:23:00 - INFO - Inserting receipt data to DB...
2025-11-06 11:23:00 - ERROR - Error occurred when inserting data to DB.
2025-11-06 11:23:00 - ERROR - Traceback (most recent call last):
  File "/home/jumbo-vm/Iris/coding-exercise/receipt-agent/doc_extraction.py", line 135, in insert_data_to_db
    cursor.executemany(
  File "/home/jumbo-vm/.pyenv/versions/3.11.11/lib/python3.11/site-packages/psycopg/cursor.py", line 128, in executemany
    raise ex.with_traceback(None)
psycopg.ProgrammingError: the query has 5 placeholders but 4 parameters were passed

2025-11-06 11:23:00 - ERROR - Insertion failed: inserted_id is null.
2025-11-06 11:24:04 - INFO - Extracting receipt data...
2025-11-06 11:24:29 - INFO - Extracted data: {'merchant_details': {'name': 'SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu', 'address': 'Jl. Griya Loka Raya (Bakso Loncat), Rawa Buntu', 'phone_number': None}, 'transaction_details': {'date': '2025-11-05', 'time': '18:40:00', 'receipt_number': 'GF-043'}, 'line_items': [{'item_name': '#B1G1 Paket Jumbo Sei Sapi x Sei Sapi', 'quantity': 1, 'unit_price': 76818.0, 'total_price': 76818.0}, {'item_name': 'Nasi Putih J', 'quantity': 2, 'unit_price': 0.0, 'total_price': 0.0}, {'item_name': 'Sambal Luat', 'quantity': 2, 'unit_price': 0.0, 'total_price': 0.0}, {'item_name': 'Es Teh Celoteh', 'quantity': 2, 'unit_price': 0.0, 'total_price': 0.0}], 'summary': {'subtotal': 76818.0, 'tax_and_fees': 26362.0, 'discount': 43072.0, 'grand_total': 60108.0}}
2025-11-06 11:24:29 - INFO - Inserting receipt data to DB...
2025-11-06 11:24:29 - INFO - Inserted receipt id: 3
2025-11-06 12:05:34 - INFO - Loading PostgreSQL connection...
2025-11-06 12:05:34 - INFO - Connection completed.
2025-11-06 12:24:26 - INFO - Loading PostgreSQL connection...
2025-11-06 12:24:26 - INFO - Connection completed.
2025-11-06 12:24:35 - INFO - Extracting receipt data...
2025-11-06 12:24:49 - INFO - Extracted data: {'merchant_details': {'name': 'SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu', 'address': 'Jl. Griya Loka Raya (Bakso Loncat), Rawa Buntu...', 'phone_number': None}, 'transaction_details': {'date': '2025-11-05', 'time': '18:40:00', 'receipt_number': 'GF-043'}, 'line_items': [{'item_name': '#B1G1 Paket Jumbo Sei Sapi x Sei Sapi', 'quantity': 1, 'unit_price': 82680.0, 'total_price': 82680.0}], 'cost_summary': {'subtotal': 82680.0, 'total_taxes_and_fees': 26362.0, 'total_discount': 43072.0, 'grand_total': 60108.0}}
2025-11-06 12:24:49 - INFO - Inserting receipt data to DB...
2025-11-06 12:24:49 - ERROR - Error occurred when inserting data to DB.
2025-11-06 12:24:49 - ERROR - Traceback (most recent call last):
  File "/home/jumbo-vm/Iris/coding-exercise/receipt-agent/doc_extraction.py", line 94, in insert_data_to_db
    summary_info = data["summary"]
                   ~~~~^^^^^^^^^^^
KeyError: 'summary'

2025-11-06 12:24:49 - ERROR - Insertion failed: inserted_id is null.
2025-11-06 12:25:08 - INFO - Loading PostgreSQL connection...
2025-11-06 12:25:08 - INFO - Connection completed.
2025-11-06 12:25:12 - INFO - Extracting receipt data...
2025-11-06 12:25:21 - INFO - Extracted data: {'merchant_details': {'name': 'SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu', 'address': 'Jl. Griya Loka Raya (Bakso Loncat), Rawa Buntu...', 'phone_number': None}, 'transaction_details': {'date': '2025-11-05', 'time': '18:40:00', 'receipt_number': 'GF-043'}, 'line_items': [{'item_name': '#B1G1 Paket Jumbo Sei Sapi x Sei Sapi', 'quantity': 1, 'unit_price': 82680.0, 'total_price': 82680.0}], 'cost_summary': {'subtotal': 82680.0, 'total_taxes_and_fees': 20500.0, 'total_discount': 43072.0, 'grand_total': 60108.0}}
2025-11-06 12:25:21 - INFO - Inserting receipt data to DB...
2025-11-06 12:25:21 - INFO - Inserted receipt id: 4
2025-11-06 12:33:09 - INFO - Loading PostgreSQL connection...
2025-11-06 12:33:10 - INFO - Connection completed.
2025-11-06 12:33:42 - INFO - Loading PostgreSQL connection...
2025-11-06 12:33:42 - INFO - Connection completed.
2025-11-06 12:33:54 - INFO - Extracting receipt data...
2025-11-06 12:34:03 - INFO - Extracted data: {'merchant_details': {'name': 'KFC - ITC BSD Foodcourt', 'address': 'ITC BSD, Food Court, Jl. Pahlawan Seribu Bsd...', 'phone_number': None}, 'transaction_details': {'date': '2025-09-19', 'time': '20:01:00', 'receipt_number': None}, 'line_items': [{'item_name': 'Triple Treat', 'quantity': 1, 'unit_price': 84500.0, 'total_price': 84500.0}], 'cost_summary': {'subtotal': 84500.0, 'total_taxes_and_fees': 22000.0, 'total_discount': 26900.0, 'grand_total': 79600.0}}
2025-11-06 12:34:03 - INFO - Inserting receipt data to DB...
2025-11-06 12:34:03 - INFO - Inserted receipt id: 5
2025-11-06 12:34:03 - INFO - Extracting receipt data...
2025-11-06 12:34:10 - INFO - Extracted data: {'merchant_details': {'name': 'SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu', 'address': None, 'phone_number': None}, 'transaction_details': {'date': '2025-11-05', 'time': '18:40:00', 'receipt_number': 'GF-043'}, 'line_items': [{'item_name': '#B1G1 Paket Jumbo Sei Sapi x Sei Sapi', 'quantity': 1, 'unit_price': 82680.0, 'total_price': 82680.0}], 'cost_summary': {'subtotal': 82680.0, 'total_taxes_and_fees': 26362.0, 'total_discount': 43072.0, 'grand_total': 60108.0}}
2025-11-06 12:34:10 - INFO - Inserting receipt data to DB...
2025-11-06 12:34:10 - INFO - Inserted receipt id: 6
2025-11-06 12:34:10 - INFO - Extracting receipt data...
2025-11-06 12:34:27 - INFO - Extracted data: {'merchant_details': {'name': 'SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu', 'address': 'Jl. Griya Loka Raya (Bakso Loncat), Rawa Buntu...', 'phone_number': None}, 'transaction_details': {'date': '2025-10-14', 'time': '18:33:00', 'receipt_number': 'GF-077'}, 'line_items': [{'item_name': '#B1G1 Paket Jumbo Sei Sapi x Sei Sapi', 'quantity': 1, 'unit_price': 82680.0, 'total_price': 82680.0}], 'cost_summary': {'subtotal': 82680.0, 'total_taxes_and_fees': 31362.0, 'total_discount': 43072.0, 'grand_total': 65108.0}}
2025-11-06 12:34:27 - INFO - Inserting receipt data to DB...
2025-11-06 12:34:27 - INFO - Inserted receipt id: 7
2025-11-06 12:34:27 - INFO - Extracting receipt data...
2025-11-06 12:34:43 - INFO - Extracted data: {'merchant_details': {'name': 'SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu', 'address': 'Jl. Griya Loka Raya (Bakso Loncat), Rawa Buntu', 'phone_number': None}, 'transaction_details': {'date': '2025-09-26', 'time': '17:53:00', 'receipt_number': None}, 'line_items': [{'item_name': '#B1G1 Paket Reguler Sei Sapi x Sei Sapi', 'quantity': 1, 'unit_price': 67200.0, 'total_price': 67200.0}], 'cost_summary': {'subtotal': 67200.0, 'total_taxes_and_fees': 25359.0, 'total_discount': 35000.0, 'grand_total': 52700.0}}
2025-11-06 12:34:43 - INFO - Inserting receipt data to DB...
2025-11-06 12:34:43 - INFO - Inserted receipt id: 8
2025-11-06 12:34:43 - INFO - Extracting receipt data...
2025-11-06 12:34:51 - INFO - Extracted data: {'merchant_details': {'name': 'KFC - BSD Square', 'address': None, 'phone_number': None}, 'transaction_details': {'date': '2025-09-12', 'time': '18:06:00', 'receipt_number': 'GF-597'}, 'line_items': [{'item_name': 'Triple Treat', 'quantity': 1, 'unit_price': 79500.0, 'total_price': 79500.0}], 'cost_summary': {'subtotal': 79500.0, 'total_taxes_and_fees': 19000.0, 'total_discount': 14000.0, 'grand_total': 84500.0}}
2025-11-06 12:34:51 - INFO - Inserting receipt data to DB...
2025-11-06 12:34:51 - INFO - Inserted receipt id: 9
2025-11-06 12:34:51 - INFO - Extracting receipt data...
2025-11-06 12:35:00 - INFO - Extracted data: {'merchant_details': {'name': 'Totlah - Anggrek Loka', 'address': 'Jl. Anggrek Lokasi (Mitra Kuliner BSD), Rawa Bu...', 'phone_number': None}, 'transaction_details': {'date': '2025-09-27', 'time': '13:55:00', 'receipt_number': 'A-8DSEOWIWX49UAV'}, 'line_items': [{'item_name': 'Nasi Wagyu Bakar Totlah (Favourite) Sambal Totlah (Favorit). Topping Kremesan', 'quantity': 1, 'unit_price': 61000.0, 'total_price': 61000.0}], 'cost_summary': {'subtotal': 61000.0, 'total_taxes_and_fees': 18800.0, 'total_discount': 40000.0, 'grand_total': 39800.0}}
2025-11-06 12:35:00 - INFO - Inserting receipt data to DB...
2025-11-06 12:35:00 - INFO - Inserted receipt id: 10
2025-11-06 12:35:00 - INFO - Extracting receipt data...
2025-11-06 12:35:13 - INFO - Extracted data: {'merchant_details': {'name': 'SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu', 'address': None, 'phone_number': None}, 'transaction_details': {'date': '2025-09-16', 'time': '20:17:00', 'receipt_number': None}, 'line_items': [{'item_name': '#B1G1 Paket Jumbo Sei Sapi x Sei Sapi', 'quantity': 1, 'unit_price': 82680.0, 'total_price': 82680.0}], 'cost_summary': {'subtotal': 82680.0, 'total_taxes_and_fees': 25766.0, 'total_discount': 35000.0, 'grand_total': 67180.0}}
2025-11-06 12:35:13 - INFO - Inserting receipt data to DB...
2025-11-06 12:35:13 - INFO - Inserted receipt id: 11
2025-11-06 13:16:17 - INFO - Loading PostgreSQL connection...
2025-11-06 13:16:17 - INFO - Connection completed.
2025-11-06 15:34:35 - INFO - Loading PostgreSQL connection...
2025-11-06 15:34:35 - INFO - Connection completed.
2025-11-06 15:36:22 - INFO - Loading PostgreSQL connection...
2025-11-06 15:36:22 - INFO - Connection completed.
2025-11-06 15:36:28 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 15:48:59 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 15:49:59 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 15:50:30 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 15:53:00 - INFO - Loading PostgreSQL connection...
2025-11-06 15:53:00 - INFO - Connection completed.
2025-11-06 15:53:03 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 15:54:44 - INFO - Loading PostgreSQL connection...
2025-11-06 15:54:44 - INFO - Connection completed.
2025-11-06 15:55:00 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 15:56:54 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 15:56:55 - INFO - Generate SQL query result: {'action': 'nothing', 'language': 'indonesian'}
2025-11-06 15:56:55 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query', 'result': "{'action': 'nothing', 'language': 'indonesian'}"}
2025-11-06 15:56:55 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query'}
2025-11-06 15:56:55 - INFO - Currently running process: {'agent_name': 'jarvis_agent', 'activity_status': 'formulate_response'}
2025-11-06 15:58:52 - INFO - Loading PostgreSQL connection...
2025-11-06 15:58:52 - INFO - Connection completed.
2025-11-06 15:58:56 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 15:58:57 - INFO - Generate SQL query result: {'action': 'nothing', 'language': 'indonesian'}
2025-11-06 15:58:57 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query', 'result': "{'action': 'nothing', 'language': 'indonesian'}"}
2025-11-06 15:58:57 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query'}
2025-11-06 15:58:57 - INFO - Currently running process: {'agent_name': 'jarvis_agent', 'activity_status': 'formulate_response'}
2025-11-06 16:01:24 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 16:01:39 - INFO - Loading PostgreSQL connection...
2025-11-06 16:01:39 - INFO - Connection completed.
2025-11-06 16:01:42 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 16:02:44 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 16:02:45 - INFO - Generate SQL query result: ```json
{
  "action": "nothing",
  "language": "indonesian"
}
```
2025-11-06 16:03:11 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 16:03:13 - INFO - Generate SQL query result: {"action": "nothing", "language": "indonesian"}
2025-11-06 16:03:13 - INFO - Generate SQL query result: {'action': 'nothing', 'language': 'indonesian'}
2025-11-06 16:03:13 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query', 'result': "{'action': 'nothing', 'language': 'indonesian'}"}
2025-11-06 16:03:13 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query'}
2025-11-06 16:03:13 - INFO - Currently running process: {'agent_name': 'jarvis_agent', 'activity_status': 'formulate_response'}
2025-11-06 16:05:36 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 16:05:40 - INFO - Loading PostgreSQL connection...
2025-11-06 16:05:40 - INFO - Connection completed.
2025-11-06 16:06:04 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 16:06:05 - INFO - Generate SQL query result: -
2025-11-06 16:06:27 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 16:06:28 - INFO - Generate SQL query result: -
2025-11-06 16:06:55 - INFO - Loading PostgreSQL connection...
2025-11-06 16:06:55 - INFO - Connection completed.
2025-11-06 16:06:58 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 16:06:59 - INFO - Generate SQL query result: ```json
{
  "action": "nothing",
  "language": "Indonesian"
}
```
2025-11-06 16:06:59 - INFO - Generate SQL query result: {'action': 'nothing', 'language': 'Indonesian'}
2025-11-06 16:06:59 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query', 'result': "{'action': 'nothing', 'language': 'Indonesian'}"}
2025-11-06 16:06:59 - INFO - Currently running process: {'agent_name': 'jarvis_agent', 'activity_status': 'formulate_response'}
2025-11-06 16:07:14 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 16:07:16 - INFO - Generate SQL query result: ```json
{
  "action": "sql_query",
  "sql_query": "SELECT\n  r.merchant_name,\n  r.transaction_date,\n  ri.item_name,\n  ri.quantity,\n  ri.unit_price,\n  ri.total_price\nFROM receipts AS r\nJOIN receipt_items AS ri\n  ON r.id = ri.receipt_id\nWHERE\n  r.transaction_date = CURRENT_DATE - INTERVAL '1 day';",
  "language": "id"
}
```
2025-11-06 16:07:16 - INFO - Generate SQL query result: {'action': 'sql_query', 'sql_query': "SELECT\n  r.merchant_name,\n  r.transaction_date,\n  ri.item_name,\n  ri.quantity,\n  ri.unit_price,\n  ri.total_price\nFROM receipts AS r\nJOIN receipt_items AS ri\n  ON r.id = ri.receipt_id\nWHERE\n  r.transaction_date = CURRENT_DATE - INTERVAL '1 day';", 'language': 'id'}
2025-11-06 16:07:16 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query', 'result': '{\'action\': \'sql_query\', \'sql_query\': "SELECT\\n  r.merchant_name,\\n  r.transaction_date,\\n  ri.item_name,\\n  ri.quantity,\\n  ri.unit_price,\\n  ri.total_price\\nFROM receipts AS r\\nJOIN receipt_items AS ri\\n  ON r.id = ri.receipt_id\\nWHERE\\n  r.transaction_date = CURRENT_DATE - INTERVAL \'1 day\';", \'language\': \'id\'}'}
2025-11-06 16:07:16 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query'}
2025-11-06 16:07:16 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query', 'execution_result': [('SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu', datetime.date(2025, 11, 5), '#B1G1 Paket Jumbo Sei Sapi x Sei Sapi', 1, Decimal('82680'), Decimal('82680'))]}
2025-11-06 16:07:54 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 16:07:55 - INFO - Generate SQL query result: ```json
{
  "action": "nothing",
  "language": "indonesian"
}
```
2025-11-06 16:07:55 - INFO - Generate SQL query result: {'action': 'nothing', 'language': 'indonesian'}
2025-11-06 16:07:55 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query', 'result': "{'action': 'nothing', 'language': 'indonesian'}"}
2025-11-06 16:07:55 - INFO - Currently running process: {'agent_name': 'jarvis_agent', 'activity_status': 'formulate_response'}
2025-11-06 16:08:00 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 16:08:02 - INFO - Generate SQL query result: ```json
{
  "action": "sql_query",
  "sql_query": "SELECT\n  r.merchant_name,\n  ri.item_name,\n  ri.quantity,\n  ri.unit_price,\n  ri.total_price\nFROM receipts AS r\nJOIN receipt_items AS ri\n  ON r.id = ri.receipt_id\nWHERE\n  r.transaction_date = CURRENT_DATE - INTERVAL '1 day';",
  "language": "id"
}
```
2025-11-06 16:08:02 - INFO - Generate SQL query result: {'action': 'sql_query', 'sql_query': "SELECT\n  r.merchant_name,\n  ri.item_name,\n  ri.quantity,\n  ri.unit_price,\n  ri.total_price\nFROM receipts AS r\nJOIN receipt_items AS ri\n  ON r.id = ri.receipt_id\nWHERE\n  r.transaction_date = CURRENT_DATE - INTERVAL '1 day';", 'language': 'id'}
2025-11-06 16:08:02 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query', 'result': '{\'action\': \'sql_query\', \'sql_query\': "SELECT\\n  r.merchant_name,\\n  ri.item_name,\\n  ri.quantity,\\n  ri.unit_price,\\n  ri.total_price\\nFROM receipts AS r\\nJOIN receipt_items AS ri\\n  ON r.id = ri.receipt_id\\nWHERE\\n  r.transaction_date = CURRENT_DATE - INTERVAL \'1 day\';", \'language\': \'id\'}'}
2025-11-06 16:08:02 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query'}
2025-11-06 16:08:02 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query', 'execution_result': [('SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu', '#B1G1 Paket Jumbo Sei Sapi x Sei Sapi', 1, Decimal('82680'), Decimal('82680'))]}
2025-11-06 16:08:02 - INFO - Currently running process: {'agent_name': 'jarvis_agent', 'activity_status': 'formulate_response'}
2025-11-06 16:08:12 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 16:08:14 - INFO - Generate SQL query result: ```json
{
  "action": "sql_query",
  "sql_query": "SELECT\n  r.merchant_name,\n  ri.item_name,\n  ri.quantity,\n  ri.unit_price,\n  ri.total_price,\n  r.transaction_date\nFROM receipts AS r\nJOIN receipt_items AS ri\n  ON r.id = ri.receipt_id\nWHERE\n  EXTRACT(MONTH FROM r.transaction_date) = 9\nORDER BY\n  r.transaction_date,\n  r.merchant_name;",
  "language": "indonesian"
}
```
2025-11-06 16:08:14 - INFO - Generate SQL query result: {'action': 'sql_query', 'sql_query': 'SELECT\n  r.merchant_name,\n  ri.item_name,\n  ri.quantity,\n  ri.unit_price,\n  ri.total_price,\n  r.transaction_date\nFROM receipts AS r\nJOIN receipt_items AS ri\n  ON r.id = ri.receipt_id\nWHERE\n  EXTRACT(MONTH FROM r.transaction_date) = 9\nORDER BY\n  r.transaction_date,\n  r.merchant_name;', 'language': 'indonesian'}
2025-11-06 16:08:14 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query', 'result': "{'action': 'sql_query', 'sql_query': 'SELECT\\n  r.merchant_name,\\n  ri.item_name,\\n  ri.quantity,\\n  ri.unit_price,\\n  ri.total_price,\\n  r.transaction_date\\nFROM receipts AS r\\nJOIN receipt_items AS ri\\n  ON r.id = ri.receipt_id\\nWHERE\\n  EXTRACT(MONTH FROM r.transaction_date) = 9\\nORDER BY\\n  r.transaction_date,\\n  r.merchant_name;', 'language': 'indonesian'}"}
2025-11-06 16:08:14 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query'}
2025-11-06 16:08:14 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query', 'execution_result': [('KFC - BSD Square', 'Triple Treat', 1, Decimal('79500'), Decimal('79500'), datetime.date(2025, 9, 12)), ('SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu', '#B1G1 Paket Jumbo Sei Sapi x Sei Sapi', 1, Decimal('82680'), Decimal('82680'), datetime.date(2025, 9, 16)), ('KFC - ITC BSD Foodcourt', 'Triple Treat', 1, Decimal('84500'), Decimal('84500'), datetime.date(2025, 9, 19)), ('SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu', '#B1G1 Paket Reguler Sei Sapi x Sei Sapi', 1, Decimal('67200'), Decimal('67200'), datetime.date(2025, 9, 26)), ('Totlah - Anggrek Loka', 'Nasi Wagyu Bakar Totlah (Favourite) Sambal Totlah (Favorit). Topping Kremesan', 1, Decimal('61000'), Decimal('61000'), datetime.date(2025, 9, 27))]}
2025-11-06 16:08:14 - INFO - Currently running process: {'agent_name': 'jarvis_agent', 'activity_status': 'formulate_response'}
2025-11-06 16:08:50 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 16:08:52 - INFO - Generate SQL query result: ```json
{
  "action": "sql_query",
  "sql_query": "SELECT\n  ri.item_name,\n  ri.quantity,\n  ri.unit_price,\n  ri.total_price\nFROM receipt_items AS ri\nJOIN receipts AS r\n  ON ri.receipt_id = r.id\nWHERE\n  r.merchant_name LIKE '%KFC%'\n  AND r.transaction_date = '2025-09-12';",
  "language": "indonesian"
}
```
2025-11-06 16:08:52 - INFO - Generate SQL query result: {'action': 'sql_query', 'sql_query': "SELECT\n  ri.item_name,\n  ri.quantity,\n  ri.unit_price,\n  ri.total_price\nFROM receipt_items AS ri\nJOIN receipts AS r\n  ON ri.receipt_id = r.id\nWHERE\n  r.merchant_name LIKE '%KFC%'\n  AND r.transaction_date = '2025-09-12';", 'language': 'indonesian'}
2025-11-06 16:08:52 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query', 'result': '{\'action\': \'sql_query\', \'sql_query\': "SELECT\\n  ri.item_name,\\n  ri.quantity,\\n  ri.unit_price,\\n  ri.total_price\\nFROM receipt_items AS ri\\nJOIN receipts AS r\\n  ON ri.receipt_id = r.id\\nWHERE\\n  r.merchant_name LIKE \'%KFC%\'\\n  AND r.transaction_date = \'2025-09-12\';", \'language\': \'indonesian\'}'}
2025-11-06 16:08:52 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query'}
2025-11-06 16:08:52 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query', 'execution_result': [('Triple Treat', 1, Decimal('79500'), Decimal('79500'))]}
2025-11-06 16:08:52 - INFO - Currently running process: {'agent_name': 'jarvis_agent', 'activity_status': 'formulate_response'}
2025-11-06 16:09:16 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 16:09:20 - INFO - Generate SQL query result: ```json
{
  "action": "sql_query",
  "sql_query": "SELECT r.discount FROM receipts AS r WHERE r.merchant_name = 'KFC - BSD Square' AND r.transaction_date = '2025-09-12';",
  "language": "id"
}
```
2025-11-06 16:09:20 - INFO - Generate SQL query result: {'action': 'sql_query', 'sql_query': "SELECT r.discount FROM receipts AS r WHERE r.merchant_name = 'KFC - BSD Square' AND r.transaction_date = '2025-09-12';", 'language': 'id'}
2025-11-06 16:09:20 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query', 'result': '{\'action\': \'sql_query\', \'sql_query\': "SELECT r.discount FROM receipts AS r WHERE r.merchant_name = \'KFC - BSD Square\' AND r.transaction_date = \'2025-09-12\';", \'language\': \'id\'}'}
2025-11-06 16:09:20 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query'}
2025-11-06 16:09:20 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query', 'execution_result': [(Decimal('14000'),)]}
2025-11-06 16:09:20 - INFO - Currently running process: {'agent_name': 'jarvis_agent', 'activity_status': 'formulate_response'}
2025-11-06 16:10:27 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 16:10:30 - INFO - Generate SQL query result: ```json
{
  "action": "sql_query",
  "sql_query": "SELECT r.merchant_name, r.transaction_date, r.grand_total FROM receipts AS r WHERE EXTRACT(MONTH FROM r.transaction_date) = 9 ORDER BY r.grand_total DESC LIMIT 3;",
  "language": "id"
}
```
2025-11-06 16:10:30 - INFO - Generate SQL query result: {'action': 'sql_query', 'sql_query': 'SELECT r.merchant_name, r.transaction_date, r.grand_total FROM receipts AS r WHERE EXTRACT(MONTH FROM r.transaction_date) = 9 ORDER BY r.grand_total DESC LIMIT 3;', 'language': 'id'}
2025-11-06 16:10:30 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query', 'result': "{'action': 'sql_query', 'sql_query': 'SELECT r.merchant_name, r.transaction_date, r.grand_total FROM receipts AS r WHERE EXTRACT(MONTH FROM r.transaction_date) = 9 ORDER BY r.grand_total DESC LIMIT 3;', 'language': 'id'}"}
2025-11-06 16:10:30 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query'}
2025-11-06 16:10:30 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query', 'execution_result': [('KFC - BSD Square', datetime.date(2025, 9, 12), Decimal('84500')), ('KFC - ITC BSD Foodcourt', datetime.date(2025, 9, 19), Decimal('79600')), ('SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu', datetime.date(2025, 9, 16), Decimal('67180'))]}
2025-11-06 16:10:30 - INFO - Currently running process: {'agent_name': 'jarvis_agent', 'activity_status': 'formulate_response'}
2025-11-06 16:11:01 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 16:11:06 - INFO - Generate SQL query result: ```json
{
  "action": "sql_query",
  "sql_query": "SELECT r.transaction_date, ri.item_name, ri.quantity, ri.unit_price, ri.total_price FROM receipts AS r JOIN receipt_items AS ri ON r.id = ri.receipt_id WHERE r.merchant_name = 'SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu' AND EXTRACT(MONTH FROM r.transaction_date) = 9 ORDER BY r.transaction_date;",
  "language": "Indonesian"
}
```
2025-11-06 16:11:06 - INFO - Generate SQL query result: {'action': 'sql_query', 'sql_query': "SELECT r.transaction_date, ri.item_name, ri.quantity, ri.unit_price, ri.total_price FROM receipts AS r JOIN receipt_items AS ri ON r.id = ri.receipt_id WHERE r.merchant_name = 'SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu' AND EXTRACT(MONTH FROM r.transaction_date) = 9 ORDER BY r.transaction_date;", 'language': 'Indonesian'}
2025-11-06 16:11:06 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query', 'result': '{\'action\': \'sql_query\', \'sql_query\': "SELECT r.transaction_date, ri.item_name, ri.quantity, ri.unit_price, ri.total_price FROM receipts AS r JOIN receipt_items AS ri ON r.id = ri.receipt_id WHERE r.merchant_name = \'SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu\' AND EXTRACT(MONTH FROM r.transaction_date) = 9 ORDER BY r.transaction_date;", \'language\': \'Indonesian\'}'}
2025-11-06 16:11:06 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query'}
2025-11-06 16:11:06 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query', 'execution_result': [(datetime.date(2025, 9, 16), '#B1G1 Paket Jumbo Sei Sapi x Sei Sapi', 1, Decimal('82680'), Decimal('82680')), (datetime.date(2025, 9, 26), '#B1G1 Paket Reguler Sei Sapi x Sei Sapi', 1, Decimal('67200'), Decimal('67200'))]}
2025-11-06 16:11:06 - INFO - Currently running process: {'agent_name': 'jarvis_agent', 'activity_status': 'formulate_response'}
2025-11-06 16:38:58 - INFO - Loading PostgreSQL connection...
2025-11-06 16:38:58 - INFO - Connection completed.
2025-11-06 16:53:41 - INFO - Loading PostgreSQL connection...
2025-11-06 16:53:41 - INFO - Connection completed.
2025-11-06 17:03:19 - INFO - Loading PostgreSQL connection...
2025-11-06 17:04:31 - INFO - Loading PostgreSQL connection...
2025-11-06 17:04:31 - INFO - Connection completed.
2025-11-06 17:07:14 - INFO - Loading PostgreSQL connection...
2025-11-06 17:07:14 - INFO - Connection completed.
2025-11-06 17:07:15 - INFO - Loading PostgreSQL connection...
2025-11-06 17:07:15 - INFO - Connection completed.
2025-11-06 17:08:06 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query'}
2025-11-06 17:08:08 - INFO - Generate SQL query result: ```json
{
  "action": "sql_query",
  "sql_query": "SELECT DISTINCT r.merchant_name FROM receipts AS r WHERE r.transaction_date >= CURRENT_DATE - INTERVAL '7 days';",
  "language": "id"
}
```
2025-11-06 17:08:08 - INFO - Generate SQL query result: {'action': 'sql_query', 'sql_query': "SELECT DISTINCT r.merchant_name FROM receipts AS r WHERE r.transaction_date >= CURRENT_DATE - INTERVAL '7 days';", 'language': 'id'}
2025-11-06 17:08:08 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'generate_sql_query', 'result': '{\'action\': \'sql_query\', \'sql_query\': "SELECT DISTINCT r.merchant_name FROM receipts AS r WHERE r.transaction_date >= CURRENT_DATE - INTERVAL \'7 days\';", \'language\': \'id\'}'}
2025-11-06 17:08:08 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query'}
2025-11-06 17:08:08 - INFO - Currently running process: {'agent_name': 'aibon_agent', 'activity_status': 'execute_sql_query', 'execution_result': [('SeIndonesia (Sei Sapi dan Ayam) - Rawa Buntu',)]}
2025-11-06 17:08:08 - INFO - Currently running process: {'agent_name': 'jarvis_agent', 'activity_status': 'formulate_response'}
